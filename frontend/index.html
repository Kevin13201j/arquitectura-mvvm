<script>
  class ViewModel {
    constructor() {
      this.output = document.getElementById('output');
    }

    async loadMessage() {
      try {
        const res = await fetch('http://localhost:3000/api/greeting');
        const data = await res.json();
        this.output.textContent = data.message;
      } catch (error) {
        this.output.textContent = 'Error loading message';
        console.error(error);
      }
    }
  }

  const viewModel = new ViewModel();
  window.ViewModel = viewModel; // importante para que el bot√≥n pueda acceder
</script>
